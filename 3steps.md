# Протокол Внесения Изменений (3-Шаговый Алгоритм)

Любая значимая задача по изменению кодовой базы или архитектуры проекта "bisnesmedia Integration Hub" должна выполняться в строгом соответствии со следующим 3-шаговым протоколом.

---

#### **ШАГ 1: АНАЛИЗ КОНТЕКСТА ("Изучи чертежи")**

1. **Прочитай `prd.md`:** Убедись, что твое решение соответствует бизнес-требованиям.
2. **Найди релевантные разделы в `PROJECT_STRUCTURE.md`:** Изучи детальное описание тех модулей (`services`, `integrations` и т.д.), которые ты будешь изменять.
3. **Проверь `CHANGELOG.md`:** Ознакомься с последними изменениями в проекте.

---

#### **ШАГ 2: РЕАЛИЗАЦИЯ ЗАДАЧИ ("Построй по чертежам")**

1. **Соблюдай структуру проекта:**
   * Новую бизнес-логику размещай в `app/services/`.
   * Новые API-клиенты — в `app/integrations/`.
   * Новые SQLAlchemy-модели — в `app/models/`.
   * Новые Pydantic-схемы — в `app/schemas/`.
   * Новые API-роутеры — в `app/api/v1/endpoints/`.
2. **Изолируй внешние зависимости:** Всю логику работы с внешними API инкапсулируй в клиенты в директории `app/integrations/`.
3. **Используй Pydantic-схемы:** Для всех данных, передаваемых через API, используй строго типизированные схемы из `app/schemas/`.

---

#### **ШАГ 3: ОБНОВЛЕНИЕ ДОКУМЕНТАЦИИ ("Обнови чертежи")**

Работа не завершена, пока не обновлена документация.

1. **Обнови `PROJECT_STRUCTURE.md`:** Детально опиши все добавленные или измененные тобой модули, если их назначение изменилось или требует пояснения.
2. **Обнови `CHANGELOG.md`:** Добавь новую запись с версией, датой и списком изменений (`Added`, `Changed`, `Fixed`).
3. **Обнови `BUG_FIX_LOG.md` (если применимо):** Если твоя задача была исправлением бага, создай новую запись с полным описанием.

